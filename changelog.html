<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
    <title>inVerse Plugin Changelog</title>
    <style type="text/css">
        BODY {
            font-size : 100%;
        }
        BODY, TD, TH {
            font-family : tahoma, verdana, arial, helvetica, sans-serif;
            font-size : 0.8em;
        }
        H2 {
             font-size : 10pt;
             font-weight : bold;
             padding-left : 1em;
        }
        A:hover {
            text-decoration : none;
        }
        H1 {
            font-family : tahoma, arial, helvetica, sans-serif;
            font-size : 1.4em;
            font-weight: bold;
            border-bottom : 1px #ccc solid;
            padding-bottom : 2px;
        }
        TT {
            font-family : courier new;
            font-weight : bold;
            color : #060;
        }
        PRE {
            font-family : courier new;
            font-size : 100%;
        }
    </style>
</head>
<body>

<h1>
    inVerse Plugin Changelog
</h1>
<p><b>6.0.1 Release 1</b> -- March 13, 2020</p>
<ul>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/24">#24: upgrade to converse.js 6.0.1</a>, which includes these changes:
        <h4>For Converse 6.0.1:</h4>
        <ul>
            <li>Bugfix. Handle stanza that clears the MUC subject</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1313">#1313</a>: Stylistic improvements to the send button</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1793">#1793</a>: Send button doesn't appear in Firefox in 1:1 chats</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1822">#1822</a>: Don't log error if user has no bookmarks</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1820">#1820</a>: Set focus on jid field after controlbox is loaded</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1823">#1823</a>: New config options 
                <a href="https://conversejs.org/docs/html/configuration.html#muc-roomid-policy">muc_roomid_policy</a> and 
                <a href="https://conversejs.org/docs/html/configuration.html#muc-roomid-policy-hint">muc_roomid_policy_hint</a>
            </li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1826">#1826</a>: A user can now add himself as a contact</li>
            <li>Note: due to a bug in the webpack config, the webfonts directory isn't copied over from ./sass to ./dist when you build 
                your own distribution files. As a workaround, you can just copy it over manually.
            </li>
        </ul>
        <h4>For Converse 6.0.0:</h4>
        <ul>
            <li><a href="https://conversejs.org/docs/html/configuration.html#enable-smacks">enable-smacks</a> is not set to true by default.</li>
            <li>Refactor some presence and status handling code from converse-core into @converse/headless/converse-status.</li>
            <li>It's now possible to navigate the emoji-picker via the keyboard arrow keys.</li>
            <li>Add support for <a href="https://xmpp.org/extensions/xep-0045.html#example-196">notifications about affiliation change for users not in a room</a></li>
            <li>Add support for <a href="https://xmpp.org/extensions/xep-0424.html">XEP-0424 Message Retraction</a></li>
            <li>Add support for <a href="https://xmpp.org/extensions/xep-0425.html">XEP-0425 Message Moderation</a></li>
            <li>New API <a href="https://conversejs.org/docs/html/api/-_converse.api.headlines.html#.get">_converse.api.headlines</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#allow-message-retraction">allow_message_retraction</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#muc-show-logs-before-join">muc-show-logs-before-join</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#muc-mention-autocomplete-filter">muc_mention_autocomplete_filter</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#muc-mention-autocomplete-show-avatar">muc_mention_autocomplete_show_avatar</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#persistent-store">persistent_store</a></li>
            <li>Initial support for sending custom emojis. Currently only between Converse instances. Still working out a wire protocol for compatibility with other clients. To add custom emojis, edit the emojis.json file.</li>
            <li><a href="https://xmpp.org/extensions/xep-0156.html">#129</a> Add support for <a href="">XEP-0156: Disovering Alternative XMPP Connection Methods</a> Only XML is supported for now.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1105">#1105</a> Support for storing persistent data in IndexedDB</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1253">#1253</a> Show contacts with unread messages at the top of the roster</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1322">#1322</a> Display occupants’ avatars in the occupants list</li>
            <li><a href="https://github.com/conversejs/converse.js/pull/1640">#1640</a> Add the ability to resize the occupants sidebar in MUCs</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1666">#1666</a> Allow scrolling of the OMEMO fingerprints list</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1691">#1691</a> Fix collection.chatbox is undefined errors</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1767">#1767</a> credentials_url is not called when logging out and then in again</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1764">#1764</a> Incorrect URI encoding in "mention" references</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1772">#1772</a> _converse.api.contact.add(jid, nick) fails, says not a function</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1791">#1791</a> auto_focus set to false is ignored when switching back to a MUC</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1792">#1792</a> Fix: modals don't have scrollbars</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1796">#1796</a> Don't show "back" arrow navigation (on mobile) in the chat header when in singleton mode</li>
            <li><a href="https://github.com/conversejs/converse.js/pull/1821">#1821</a> Errors caused by malformed URLs are now handled</li>
        </ul>
        <h4>Breaking changes</h4>
        <ul>
            <li>The debug configuration option has been replaced with loglevel. <a href="https://conversejs.org/docs/html/configuration.html#loglevel">loglevel.</a></li>
            <li>In contrast to sessionStorage and localStorage, IndexedDB is an asynchronous database. A lot of code that relied on database access to be synchronous had to be updated to work with asynchronous access via promises.</li>
            <li>In order to add support for XEP-0156, the XMPP connection needs to be created only once we know the JID of the user that's logging in. This means that the connectionInitialized event now fires much later than before. Plugins that rely on connectionInitializedbeing triggered before the user's JID has been provided will need to be updated.</li>
            <li>The following API methods now return promises:
                <ul>
                    <li>_converse.api.chats.get</li>
                    <li>_converse.api.chats.create</li>
                    <li>_converse.api.rooms.get</li>
                    <li>_converse.api.rooms.create</li>
                    <li>_converse.api.roomviews.close</li>
                </ul>
            </li>
            <li>Changes the events:
                <ul>
                    <li>The chatBoxInitialized event now triggers when a _converse.ChatBox (not the view) is opened.</li>
                    <li>Renamed the old chatBoxInitialized to chatBoxViewInitialized and trigger only for ChatBoxView instances.</li>
                    <li>Renamed chatRoomOpened event to chatRoomViewInitialized</li>
                    <li>The order of certain events have now changed: statusInitialized is now triggered after initialized and connected and reconnected.</li>
                </ul>
            </li>
            <li>_converse.api.chats.get() now only returns one-on-one chats, not the control box or headline notifications.</li>
            <li>The show_only_online_users setting has been removed.</li>
            <li>_converse.api.alert.show is now _converse.api.show and instead of taking an integer for the type, "info", "warn" or "error" should be passed in.</li>
            <li>The converse-headline plugin has been split up into converse-headlines and converse-headlines-view.</li>
        </ul>
    </li>
</ul>

<p><b>5.0.5 Release 1</b> -- November 20, 2019</p>
<ul>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/21">#21: upgrade to converse.js 5.0.5</a>, which includes these changes:
        <ul>
            <li>Prevent editing of sent file uploads.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1089">#1089</a>: When filtering the roster for `online` users, show all non-offline users.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1733">#1733</a>: New message notifications for a minimized chat stack on top of each other.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1757">#1757</a>: Chats are hidden behind the controlbox on mobile.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1760">#1760</a>: Private messages no longer received after websocket reconnect.</li>
        </ul>
    </li>
</ul>

<p><b>5.0.4 Release 1</b> -- October 8, 2019</p>
<ul>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/19">#19: upgrade to converse.js 5.0.4</a>, which includes these changes:
        <h4>For Converse 5.0.4:</h4>
        <ul>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#allow_message_corrections">allow_message_corrections</a> which, if set to last, limits editing of sent messages to the last message sent.</li>
            <li>Bugfix: Don't treat every duplicate message ID as a message correction; since some clients don't use globally unique ID's this causes false positives.</li>
            <li>Bugfix: process stanzas from mam one-by-one in order to correctly process message receipts</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1712">#1712</a> TypeError: plugin._features is not a function</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1714">#1714</a> Don't notify the user in case we're receiving a message delivery receipt only</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1739">#1739</a> New config option <a href="https://conversejs.org/docs/html/configuration.html#assets_path">assets_path</a> which lets you set the path from which "chunks" are loaded.</li>
        </ul>
        <h4>For Converse 5.0.3:</h4>
        <ul>
            <li>Emit chatBoxFocused and chatBoxBlurred events for emoji picker input</li>
            <li>SECURITY FIX: Reject unencapsulated forwarded messages, since we don't support XEP-0297 on its own</li>
        </ul>
        <h4>For Converse 5.0.2:</h4>
        <ul>
            <li>po translations files are now loaded via Webpack. As a result the locales_url config option is now removed given that the path to the locale JSON files is now determined by the webpack config and can't be changed at runtime.</li>
            <li>The JSON representing emojis is now fetched asynchronously as a separate file converse.emojis.js.</li>
            <li>Webpack is now configured with a publicPath set to /dist/. This is necessary so that chunks (such as the emojis and locales JSON files) can be fetched asynchronously. This means that all your assets need to be served at /dist. If you need to set a different path, you'll need to set publicPath in webpack.config.js to your preferred path and then rebuild all assets (e.g. make dist).</li>
            <li>Use listenTo to avoid memory leaks when views get removed.</li>
            <li>SECURITY FIX: Ignore MAM chat messages not sent from yourself</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1692">#1692</a> Bugfix: TypeError: oldest_message is undefined</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1704">#1704</a> SECURITY FIX: Impersonation by misusage of groupchat carbons</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1705">#1705</a> Bugfix: this.roomspanel is undefined after hibernating</li>
        </ul>
    </li>
</ul>

<p><b>5.0.1 Release 1</b> -- August 27, 2019</p>
<ul>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/17">#17: upgrade to converse.js 5.0.1</a>, which includes these changes:
        <h4>For Converse 5.0.1:</h4>
        <ul>
            <li>Add a new GUI for moderator actions. You can trigger it by entering /modtools in a MUC.</li>
            <li>Reconnect if the server doesn't respond to a ping within 10 seconds.</li>
            <li>Don't query for MAM MUC messages before the cached messages have been restored (another cause of duplicate messages).</li>
            <li>Show an error message and option to retry when fetching of the MAM archive times out</li>
            <li>Bugfix: TypeError: o.getAttribute is not a function converse-chatview.js (can cause messages to not appear).</li>
        </ul>
        <h4>For Converse 5.0.0:</h4>
        <ul>
            <li>BOSH support has been moved to a plugin.</li>
            <li>Support for XEP-0410 to check whether we're still present in a room</li>
            <li>Initial support for the <a href="https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer">CredentialsContainer</a> web API</li>
            <li>Allow for synchronous events. When a synchronous event is fired, Converse will</li>
            <li>wait for all promises returned by the event's handlers to finish before continuing.</li>
            <li>Properly handle message correction being received before the corrected message</li>
            <li>Groupchat default configuration now supports list-multi fields</li>
            <li>Bugfix: Don't set muc_domain for roomspanel if locked_muc_domain is true.</li>
            <li>Bugfix: Modal auto-closes when you open it for a second time.</li>
            <li>Bugfix: Cannot read property 'parentElement' of null in shadow DOM</li>
            <li>Take roster nickname into consideration when rendering messages and chat headings.</li>
            <li>Hide the textarea when a user is muted in a groupchat.</li>
            <li>Don't restore a BOSH session without knowing the JID</li>
            <li>In the /help menu, only show allowed commands</li>
            <li>Message deduplication bugfixes and improvements</li>
            <li>Continuously retry (in 2s intervals) to fetch login credentials (via <a href="https://conversejs.org/docs/html/configuration.html#credentials-url">credentials_url</a>) in case of failure</li>
            <li>Replace moment with DayJS.</li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#auto-focus">auto_focus</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#clear-messages-on-reconnection">clear_messages_on_reconnection</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#enable-smacks">enable_smacks</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#message-limit">message_limit</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#muc-fetch-members">muc_fetch_members</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#muc-mention-autocomplete-min-chars">muc_mention_autocomplete_min_chars</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#muc-show-join-leave-status">muc_show_join_leave_status</a></li>
            <li>New config option <a href="https://conversejs.org/docs/html/configuration.html#singleton">singleton</a></li>
            <li>By setting this option to false and view_mode to 'embedded', it's now possible to</li>
            <li>"embed" the full app and not just a single chat. To embed just a single chat, it's now</li>
            <li>necessary to explicitly set singleton to true.</li>
            <li>Re-add the previously removed config option <a href="https://conversejs.org/docs/html/configuration.html#keepalive">keepalive</a></li>
            <li>New event: <a href="https://conversejs.org/docs/html/api/-_converse.html#event:chatBoxBlurred">chatBoxBlurred</a></li>
            <li>New event: <a href="https://conversejs.org/docs/html/api/-_converse.html#event:chatReconnected">chatReconnected</a></li>
            <li><a href="https://github.com/conversejs/converse.js/issues/316">#316</a> Add support for XEP-0198 Stream Management</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1071">#1071</a> x clear cross of same size as text</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1142">#1142</a> Up/down arrow shouldn't erase current message</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1196">#1196</a> Use alternative connection method upon connfail</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1296">#1296</a> embedded view mode shows chatbox-navback arrow in header</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1330">#1330</a> Missing room name in MUC invitation popup</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1445">#1445</a> Participants list uses big font in embedded mode</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1455">#1455</a> Avatar in controlbox status-view not updated</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1465">#1465</a> When highlighting a roster contact, they're incorrectly shown as online</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1476">#1476</a> Support OMEMO on by default for chats via a config variable</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1494">#1494</a> Trim whitespace around messages</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1495">#1495</a> Mentions should always include a URI attribute</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1502">#1502</a> Fatal error when using prebind</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1524">#1524</a> OMEMO libsignal-protocol.js Invalid signature</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1532">#1532</a> Converse reloads on enter pressed in the filter box</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1538">#1538</a> Allow adding self as contact</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1548">#1548</a> Add support for paging through the MAM results when filling in the blanks</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1550">#1550</a> Legitimate carbons being blocked due to erroneous forgery check</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1554">#1554</a> Room auto-configuration broke if the config form contained fields with type fixed</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1558">#1558</a> this.get is not a function error when forward_messages is set to true.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1561">#1561</a> Don't call clear on local or session storage</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1572">#1572</a> In fullscreen view mode the top is cut off on iOS</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1575">#1575</a> MUC invitation autocomplete list doesn't appear</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1576">#1576</a> Converse gets stuck with spinner when logging out with auto_login set to true</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1579">#1579</a> Trim spaces at the beginning and end of a JID (when adding contact)</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1585">#1585</a> Upload files by pasting from clipboard</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1586">#1586</a> Not possible to kick someone with a space in their nickname</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1664">#1664</a> Blacklisting converse-profile makes the control box totally blank</li>
        </ul>
    </li>
</ul>

<p><b>4.2.0 Release 1</b> -- June 25, 2019</p>
<ul>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/15">#15: upgrade to converse.js 4.2.0</a>, which includes these changes:
        <ul>
            <li>Upgrade to Backbone 1.4.0, Strophe 1.3.2 and Jasmine 2.99.2</li>
            <li>Remove dependency on (our fork of) Awesomplete</li>
            <li>Prevent user from adding themselves as contact</li>
            <li>Fix "flashing" of roster filter when you have less than 5 roster contacts</li>
            <li>Fix handling of CAPTCHAs offered by ejabberd</li>
            <li>Don't send out receipts or markers for MAM messages</li>
            <li>Allow setting of debug mode via URL with /#converse?debug=true</li>
            <li>Render inline images served over HTTP if Converse itself was loaded on an unsecured (HTTP) page.</li>
            <li>Make sure nickname passed in via _converse.initialize has first preference as MUC nickname</li>
            <li>Make sure required registration fields have "required" attribute</li>
            <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#autocomplete-add-contact">autocomplete_add_contact</a></li>
            <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#locked-muc-domain">locked_muc_domain</a></li>
            <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#locked-muc-nickname">locked_muc_nickname</a></li>
            <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#show-client-info">show_client_info</a></li>
            <li>Document new API method sendMessage</li>
            <li>Don't filter out own device when sending an OMEMO message</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1149</a> With xhr_user_search_url, contact requests are not being sent out</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1213</a> Switch roster filter input and icons</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1327</a> fix False mentions positives in URLs and Email addresses</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1352</a> Add <a href="https://github.com/messageformat/Jed">Jed</a> as dependency of @converse/headless</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1373</a> Re-add support for the <a href="https://conversejs.org/docs/html/configuration.html#muc-domain">muc_domain setting</a></li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1400</a> When a chat message is just an emoji, enlarge the emoji</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1407</a> Silent errors when trying to use whitespace as MUC nickname</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1437</a> List of groupchats in modal doesn't scroll</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1457</a> Wrong tooltip shown for "unbookmark" icon</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1467</a> Fix rendering of URLs enclosed with sharp brackets such as &lt;https://example.org&gt;</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1479</a> Allow file upload by drag & drop also in MUCs</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1487</a> New config option <a href="https://conversejs.org/docs/html/configuration.html#muc-respect-autojoin">muc_respect_autojoin</a></li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1488</a> In error message, fall back to JID if name is not available.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1501</a> Don't prompt for a reason if <a href="https://conversejs.org/docs/html/configuration.html#auto-join-on-invite">auto_join_on_invite</a> is true</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1507</a> Make message id and origin-id identical in order to fix LMC with Conversations</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1508</a> Minimized bookmarked chatboxes should not be always maximized after page reload.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1512</a> Allow manual entry of jid even with <a href="https://conversejs.org/docs/html/configuration.html#xhr-user-search-url">xhr_user_search_url</a>.</li>
            <li>The JID input field is now also visible. To hide it simply hide .add-xmpp-contact__jid via CSS.</li>
        </ul>
    </li>
</ul>

<p><b>4.1.2 Release 1</b> -- February 22, 2019</p>
<ul>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/12">#12: Upgrade to converse.js 4.1.2</a>, which includes these changes:
        <ul>
            <li>Updated translations: af, cz, de, es, he, it, nl, nl_BE, pt_BR, zh_CN</li>
            <li>Bugfix. Prevent duplicate messages by comparing MAM archive id to XEP-0359 stanza ids.</li>
            <li>Bugfix. Open groupchats not shown when logging in after disconnection.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1406">#1406</a> TypeError: e.devicelists is undefined when unchecking the "trusted device" checkbox</li>
        </ul>
    </li>
</ul>
<p><b>4.1.1 Release 1</b> -- February 20, 2019</p>
<ul>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/8">#8: Fix Maven build</a>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/9">#9: Upgrade to converse.js 4.1.1</a>, which includes these changes:
        <ul>
            <li>Updated translations: af, cz, de, es, eu, ga, he, hi, ja, nb, nl_BE, zh_CN</li>
            <li>New language supported: Esperanto</li>
            <li>Accessibility: Tag the chat-content as an ARIA live region, for screen readers</li>
            <li>Set releases URL to new Github repo</li>
            <li>Rudimentary support for XEP-0333 chat markers</li>
            <li>Better support for XEP-0359 stanza-id and origin-id elements.</li>
            <li>Bugfix: restore textarea size after sending a message</li>
            <li>Bugfix: MUC invite form not appearing</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1369">#1369</a> Don't wrongly interpret message with subject as a topic change.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1405">#1405</a> Status of contacts list are not displayed properly</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1408">#1408</a> New config option roomconfig_whitelist</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1410">#1410</a> HTTP upload not working if conversations push proxy is used</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1412">#1412</a> MUC moderator commands can be disabled selectively by config</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1413">#1413</a> Fix moderator commands that change affiliation</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1414">#1414</a> Prevent duplicate messages on MUC join</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1417">#1417</a> Margin between nickname and badge</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1421">#1421</a> Fix direct invite for membersonly room</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1422">#1422</a> Resurrect the muc_show_join_leave option</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1438">#1438</a> Update contact nickname when receiving a roster push</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1442">#1442</a> MUC read receipts causing empty lines</li>
        </ul>
    </li>
</ul>
<p><b>4.1.0 Release 1</b> -- January 16, 2019</p>
<ul>
    <li>[<a href='https://issues.igniterealtime.org/browse/OF-1517'>OF-1517</a>] - Don't require i18n source files for all plugins to be encoded.</li>
    <li>[<a href='https://issues.igniterealtime.org/browse/OF-1641'>OF-1641</a>] - Ensure all JSP pages have the correct contentType.</li>
    <li>Minimum Java requirement: 1.8</li>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1517">OF-1517: Don't require i18n source files for all plugins to be encoded.</a></li>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1629">OF-1636: Add 'fullpage' style sheet.</a>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1629">OF-1629: include missing resources (logos, sounds).</a>
    <li><a href="https://github.com/igniterealtime/openfire-inverse-plugin/issues/6">#6: upgrade to converse.js 4.1.0</a>, which includes these changes:
        <h4>For Converse 4.1.0:</h4>
        <ul>
            <li>Bugfix: MUC commands were being ignored</li>
            <li>Bugfix: Multiple rooms shown active in the rooms list</li>
            <li>Bugfix: Don't open chats when receiving messages without a body</li>
            <li>Bugfix: Typing in the textarea can become very slow in large MUCs</li>
            <li>UI: Always show the OMEMO lock icon (grayed out if not available).</li>
            <li>Use publish-options with pubsub#access_model set to open when publishing OMEMO public keys and devices</li>
            <li>Add a new converse-pubsub plugin, for generic PubSub operations</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1180">#1180</a> It's now possible to use OMEMO in a MUC (if it's members-only and non-anonymous)</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1334">#1334</a> Force avatar refetch when receiving vcard-temp:x:update</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1337">#1337</a> send_chat_state_notifications doesn't work in MUCs</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1353">#1353</a> Message Delivery Receipts not working because of the message "type" attribute</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1356">#1356</a> Make triangle icon usable</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1374">#1374</a> Can't load embedded chat when changing view_mode between page reloads</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1376">#1376</a> Fixed some alignment issues in the sidebar</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1378">#1378</a> Message Delivery Receipts were being sent for carbons and own messages</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1379">#1379</a> MUC unread messages indicator is failing</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1382">#1382</a> Message Delivery Receipts: Set store hint and type='chat'</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1388">#1388</a> implement muc-owner command /destroy</li>
        </ul>
        <h4>For Converse 4.0.6 (<a href="https://issues.igniterealtime.org/browse/OF-1653">OF-1653</a>):</h4>
        <ul>
            <li>Updated translations: ar, cs, de, es, eu, fr, gl, hu, id, it, ja, nb, pt_BR</li>
            <li>Don't render http (i.e. non-TLS) resources</li>
            <li>Bugfix: Converse caused RID out of range errors on Prosody</li>
            <li>Bugfix: MUC messages sometimes appear twice after resync.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1331">#1331</a> Fix missing checkmarks in old muc messages</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1333">#1333</a> Don't send receipt requests in MUCs</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1348">#1348</a> Font gets cut off in Firefox #1348</li>
        </ul>
        <h4>For Converse 4.0.5:</h4>
        <ul>
            <li>Error FATAL: TypeError: Cannot read property 'extend' of undefined when using embedded view mode.</li>
            <li>Default paths in converse-notifications.js are now relative</li>
            <li>Add a button to regenerate OMEMO keys</li>
            <li>Add client info modal which shows Converse's version number</li>
            <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#theme">theme</a></li>
            <li><a href="https://github.com/conversejs/converse.js/issues/141">#141</a> XEP-0184: Message Delivery Receipts</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1033">#1033</a> Setting show_send_button to true didn't work</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1188">#1188</a> Feature request: drag and drop file to HTTP Upload</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1268">#1268</a> Switch from SASS variables to CSS custom properties</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1278">#1278</a> Replace the default avatar with a SVG version</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1288">#1288</a> Add CSS classes to differentiate between incoming and outgoing messages</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1305">#1305</a> added value 'all' for 'show_desktop_notifications' to notifiy even if converse.js is open</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1306">#1306</a> added option notification_delay</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1312">#1312</a> Error unrecognized expression in Safari</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1316">#1316</a> show version info in login dialog</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1317">#1317</a> Don't show errors for CSI messages</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1318">#1318</a> added values 'on' and 'off' for 'trusted' option which removes the "This is a trusted device" checkbox from the login form</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1319">#1319</a> Implement sending of presences according to XEP-0319: Last User Interaction in Presence</li>
        </ul>

        <h4>For Converse 4.0.4 (<a href="https://issues.igniterealtime.org/browse/OF-1635">OF-1635</a>):</h4>

        <ul>
            <li>Use <a href="https://lernajs.io/">Lerna</a> to create the @converse/headless package</li>
            <li>Use ES2015 modules instead of UMD.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1252">#1252</a> Correctly reflect the state in bookmark icon title.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1257">#1257</a> Prefer 'probably' over 'maybe' when evaluating audio play support.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1259">#1259</a> Don't inform of affiliation change after user leaves MUC</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1261">#1261</a> File upload not working</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1264">#1264</a> Right Align badges of room occupants</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1272">#1272</a> Hiding MUC occupants leaves a blank space</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1278">#1278</a> Replace the default avatar with a SVG version</li>
        </ul>

        <h4>For Converse 4.0.3 (<a href="https://issues.igniterealtime.org/browse/OF-1628">OF-1628</a>):</h4>

        <ul>
            <li>New translations: Arabic, Basque, Czech, French, German, Hungarian, Japanese, Norwegian Bokmål, Polish, Romanian, Spanish</li>
            <li>Bugfix. Converse continuously publishes an empty OMEMO devicelist for itself</li>
            <li>Bugfix. Handler not triggered when submitting MUC password form 2nd time</li>
            <li>Bugfix. MUC features weren't being refreshed when saving the config form</li>
            <li>Don't show duplicate notification messages</li>
            <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#show-images-inline">show_images_inline</a></li>
            <li>Disable OMEMO when the user has indicated that Converse is running on an untrusted device.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/537">#537</a> Render xmpp: URI as link</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1058">#1058</a> Send an inactive chat state notification when the user switches to another tab</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1062">#1062</a> Collapse multiple join/leave messages into one</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1063">#1063</a> URLs in the topic / subject are not clickable</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1140">#1140</a> Add support for destroyed chatrooms</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1169">#1169</a> Non-joined participants display an unwanted status message</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1185">#1185</a> Added Contact still shown as pending</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1190">#1190</a> MUC Participants column disappears in certain viewport widths</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1193">#1193</a> OMEMO messages without a body fallback are ignored</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1199">#1199</a> Can't get back from to login screen from registration screen</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1204">#1204</a> Link encoding issue</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1209">#1209</a> Bring color codes of users' status in line with other clients</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1214">#1214</a> Setting allow_contact_requests to false has no effect</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1221">#1221</a> Avoid creating a headlines box if we don't have anything to show inside it</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1222">#1222</a> Adding a bookmark should prefill the room name</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1228">#1228</a> Converse automatically visits links (to try and determine whether they're images to show inline)</li>
        </ul>
    </li>
</ul>

<p><b>4.0.2 Release 1</b> -- October 4th, 2018</p>
<ul>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1620">OF-1620: inVerse plugin: translations are not working.</a>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1619">OF-1619: upgrade to converse.js 4.0.2</a>, which includes these changes:
    <ul>
        <li>M4A and WEBM files, when sent as XEP-0066 Out of Band Data, are now playable directly in chat</li>
        <li>Updated French and Spanish translations</li>
        <li>Two new languages supported, <a href="https://hosted.weblate.org/languages/hi/conversejs/">Hindi</a> and <a href="https://hosted.weblate.org/languages/ro/conversejs/">Romanian</a></li>
        <li><a href="https://github.com/conversejs/converse.js/issues/1187">#1187</a> UTF-8 characters have the wrong encoding when using OMEMO</li>
        <li><a href="https://github.com/conversejs/converse.js/issues/1189">#1189</a> Video playback failure</li>
        <li><a href="https://github.com/conversejs/converse.js/issues/1220">#1220</a> Converse not working in Edge</li>
        <li><a href="https://github.com/conversejs/converse.js/issues/1225">#1225</a> User profile sometimes not displayed when libsignal-protocol.js is used</li>
    </ul>
    </li>
</ul>

<p><b>4.0.1 Release 1</b> -- September 20th, 2018</p>
<ul>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1612">OF-1612: upgrade to converse.js 4.0.1</a>, which includes these changes:
    <ul>
        <li>Use <a href="https://compliance.conversations.im/">https://compliance.conversations.im</a> instead of (dead) <a href="https://xmpp.net/">https://xmpp.net</a></li>
        <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#auto-register-muc-nickname">auto_register_muc_nickname</a></li>
        <li>New config setting <a href="https://conversejs.org/docs/html/configuration.html#enable-muc-push">enable_muc_push</a></li>
        <li><a href="https://github.com/conversejs/converse.js/issues/1182">#1182</a> MUC occupants without nick or JID created</li>
        <li><a href="https://github.com/conversejs/converse.js/issues/1184">#1184</a> Notification error when message has no body</li>
        <li><a href="https://github.com/conversejs/converse.js/issues/1201">#1201</a> Emoji picker appears when pressing enter</li>
    </ul></li>
</ul>

<p><b>4.0.0 Release 1</b> -- September 8th, 2018</p>
<ul>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1597">OF-1597: upgrade to converse.js 4.0.0</a>, which includes these changes:
        <h3>New Features</h3>
        <ul>
            <li><a href="https://github.com/conversejs/converse.js/issues/161">#161</a> XEP-0363: HTTP File Upload</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/194">#194</a> Include entity capabilities in outgoing presence stanzas</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/337">#337</a> API call to update a VCard</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/421">#421</a> XEP-0308: Last Message Correction</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/491">#497</a> XEP-0384: OMEMO encrypted messaging</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/968">#968</a> Use nickname from VCard when joining a room</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/986">#986</a> Affiliation changes aren't displayed in the chat</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1081">#1081</a> Allow for shift-enter to insert newlines</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1091">#1091</a> There's now only one CSS file for all view modes.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1094">#1094</a> Show room members who aren't currently online</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1106">#1106</a> Support for Roster Versioning</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1137">#1137</a> Autocompletion and support for <a href="https://xmpp.org/extensions/xep-0372.html">XEP-0372</a> References, specifically section "3.2 Mentions".</li>
            <li>It's now also possible to edit your VCard via the UI</li>
            <li>Automatically grow/shrink input as text is entered/removed</li>
            <li>MP4 and MP3 files when sent as XEP-0066 Out of Band Data, are now playable directly in chat</li>
            <li>Support for rendering URLs sent according to XEP-0066 Out of Band Data.</li>
            <li>Geo-URIs (e.g. from Conversations) are now replaced by links to openstreetmap (works in reverse also)</li>
            <li>Add a checkbox to indicate whether a trusted device is being used or not.</li>
            <li>If the device is not trusted, sessionStorage is used and all user data is deleted from the browser cache upon logout.</li>
            <li>If the device is trusted, localStorage is used and user data is cached indefinitely.</li>
            <li>Initial support for <a href="https://xmpp.org/extensions/xep-0357.html">XEP-0357 Push Notifications</a>, specifically registering an "App Server".</li>
            <li>Add support for logging in via OAuth (see the <a href="https://conversejs.org/docs/html/configuration.html#oauth-providers">oauth_providers setting</a>)</li>
        </ul>
        <h3>Bugfixes</h3>
        <ul>
            <li>Spoiler messages didn't include the message author's name.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1017">#1017</a> Documentation includes utf-8 charset to make minfied versions compatible across platforms.</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1026">#1026</a> Typing in MUC shows "Typing from another device"</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1039">#1039</a> Multi-option data form elements not shown and saved correctly</li>
            <li><a href="https://github.com/conversejs/converse.js/issues/1143">#1143</a> Able to send blank message</li>
        </ul>
        <h3>API changes</h3>
        <ul>
            <li>_converse.api.vcard.get now also accepts a Backbone.Model instance and has an additional force parameter to force fetching the vcard even if it has already been fetched.</li>
            <li>New API method _converse.api.vcard.update.</li>
            <li>The contactStatusChanged event has been renamed to contactPresenceChanged and a event presenceChanged is now also triggered on the contact.</li>
            <li>_converse.api.chats.open and _converse.api.rooms.open now returns a Presence which resolves with the Backbone.Model representing the chat object.</li>
        </ul>
        <h3>UI changes</h3>
        <ul>
            <li><a href="https://github.com/conversejs/converse.js/issues/956">#956</a> Conversation pane should show my own identity in pane header</li>
            <li>The UI is now based on Bootstrap4 and Flexbox is used extensively.</li>
            <li>Fontawesome 5 is used for icons.</li>
            <li>User Avatars are now shown in chat messages.</li>
        </ul>
        <h3>Configuration changes</h3>
        <ul>
            <li>Removed the storage configuration setting, use <a href="https://conversejs.org/docs/html/configuration.html#trusted">trusted</a> instead.</li>
            <li>Removed the use_vcards configuration setting, instead VCards are always used.</li>
            <li>Removed the xhr_custom_status and xhr_custom_status_url configuration settings. If you relied on these settings, you can instead listen for the <a href="https://conversejs.org/docs/html/events.html#contactstatusmessagechanged">statusMessageChanged</a> event and make the XMLHttpRequest yourself.</li>
            <li>Removed xhr_user_search in favor of only accepting xhr_user_search_url as configuration option.</li>
            <li>xhr_user_search_url has to include the ? character now in favor of more flexibility. See example in the documentation.</li>
            <li>The data returned from the xhr_user_search_url must now include the user's jid instead of just an id.</li>
            <li>New configuration settings <a href="https://conversejs.org/docs/html/configuration.html#nickname">nickname</a> and <a href="https://conversejs.org/docs/html/configuration.html#auto-join-private-chats">auto_join_private_chats</a>.</li>
        </ul>
        <h3>Architectural changes</h3>
        <ul>
            <li>Extracted the views from converse-muc.js into converse-muc-views.js and where appropriate moved methods from the views into the models/collections. This makes MUC possible in headless mode.</li>
            <li>Created a new core plugin converse-roster.js which contains the models for roster-related data. Previously this code was in converse-core.js.</li>
            <li>VCards are now stored separately from chats and roster contacts.</li>
        </ul>
        <h3>Other</h3>
        <ul>
            <li>Support for OTR (off-the-record) encryption has been dropped.</li>
        </ul>
    </li>
</ul>

<p><b>3.3.4 Release 1</b> -- March 15th, 2018</p>
<ul>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1512">OF-1512: upgrade to converse.js 3.3.4.</a></li>
</ul>

<p><b>3.3.2 Release 1</b> -- February 5th, 2018</p>
<ul>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1473">OF-1473: upgrade to converse.js 3.3.2.</a></li>
</ul>

<p><b>3.2.1 Release 1</b> -- September 4th, 2017</p>
<ul>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1370">OF-1370: hide registration tab when appropriate.</a></li>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1371">OF-1371: upgrade to converse.js 3.2.1.</a></li>
</ul>

<p><b>3.1.0 Release 1</b> -- July 10th, 2017</p>
<ul>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1359">OF-1359: Elevate webclients to top level menu in openfire admin UI</a></li>
    <li><a href="https://issues.igniterealtime.org/browse/OF-1360">OF-1360: Update inVerse plugin to match upstream Converse 3.1.0 release.</a></li>
</ul>

<p><b>3.0.3 Alpha 1</b> -- June 19th, 2017</p>
<ul>
    <li>Initial release.</li>
    <li>Based on <a href="https://github.com/jcbrand/converse.js/commit/068be7bfeead28f3df2585873fa66f5e2d58c6dc">commit 068be7b</a>
        of Converse, which is a commit newer than the 3.0.2 release, which was the latest official release at the time.</li>
</ul>

</body>
</html>
